<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>ONE Barangay E-Service System</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    rel="stylesheet"
  />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet" />
  <style>
    /* Custom styles for side dropdown */
    .dropdown-container {
      position: relative;
      width: 100%;
      max-width: none; /* Allow full width */
    }
    .dropdown-menu {
      position: absolute;
      top: 0;
      left: 100%;
      margin-left: 0.5rem;
      background: white;
      border-radius: 0.5rem;
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
      max-height: 15rem;
      overflow-y: auto;
      min-width: 16rem;
      z-index: 40;
      display: none;
    }
    .dropdown-menu.show {
      display: block;
    }
    /* Scrollbar styling for dropdown */
    .dropdown-menu::-webkit-scrollbar {
      width: 6px;
    }
    .dropdown-menu::-webkit-scrollbar-thumb {
      background-color: #7f1d1d;
      border-radius: 3px;
    }
    button, select, input {
      font-family: 'Montserrat', sans-serif;
    }
  </style>
</head>
<body class="bg-white min-h-screen flex flex-col">
  <!-- Splash Screen -->
  <div
    id="splashScreen"
    class="fixed inset-0 bg-gradient-to-b from-[#4b0000] via-[#800000] to-[#4b0000] flex cursor-pointer select-none z-50"
  >
    <div class="flex flex-1 items-center justify-center">
      <img
        src="https://i.imgur.com/MYIBL05.png"
        alt="Barangay related design with traditional Filipino village and community symbols in warm red and brown tones"
        class="w-full h-full object-contain max-w-none max-h-full"
        style="max-width:none; max-height:none;"
      />
    </div>
    <div class="flex flex-1 flex-col items-center justify-center text-center px-0">
      <h1 class="text-white font-bold text-7xl sm:text-8xl leading-tight mb-8 max-w-6xl px-2">
        Barangay<br>E-Services
      </h1>
      <p class="text-white text-xl sm:text-2xl font-semibold select-none px-0">
        Tap anywhere to continue
      </p>
    </div>
  </div>

  <!-- Main Screen -->
  <div id="mainScreen" class="hidden flex flex-col min-h-screen">
    <header
      class="bg-[#800000] flex justify-between items-center p-8 rounded-b-md"
    >
    <h1 class="text-white font-bold text-6xl sm:text-6xl" style="font-family: 'Montserrat', sans-serif;">
        Barangay E-Service System
      </h1>
      <img
        alt="Barangay Logo with traditional Filipino village emblem in red and brown colors"
        class="h-20 w-auto"
        height="55"
        width="60"
        src="https://i.imgur.com/MYIBL05.png"
      />
    </header>
    <main class="px-5 py-12 max-w-[1200px] mx-auto flex flex-col gap-7 flex-grow">
      <div class="grid grid-cols-5 sm:grid-cols-3 gap-6">
        <button
        class="text-center text-white text-4xl font-semibold rounded-lg py-12 px-15 bg-gradient-to-r from-[#7f1d1d] to-[#4b0000] transition-all duration-300 ease-in-out hover:scale-105"
        type="button"
        onclick="openForm('barangayID')"
        style="font-family: 'Montserrat', sans-serif; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);"
        onmouseover="this.style.boxShadow='0 6px 18px 2px rgba(139, 0, 0, 0.5)'"
        onmouseout="this.style.boxShadow='0 4px 6px rgba(0, 0, 0, 0.5)'"
      >
        BARANGAY ID
      </button>

        <button
        class="text-center text-white text-4xl font-semibold rounded-lg py-14 px-10 bg-gradient-to-r from-[#7f1d1d] to-[#4b0000] transition-all duration-300 ease-in-out hover:scale-105"
        type="button"
        onclick="openForm('barangayClearance')"
        style="font-family: 'Montserrat', sans-serif; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);"
        onmouseover="this.style.boxShadow='0 6px 18px 2px rgba(139, 0, 0, 0.5)'"
        onmouseout="this.style.boxShadow='0 4px 6px rgba(0, 0, 0, 0.5)'"
        >
          BARANGAY CLEARANCE
        </button>

        <button
        class="text-center text-white text-4xl font-semibold rounded-lg py-12 px-8 bg-gradient-to-r from-[#7f1d1d] to-[#4b0000] transition-all duration-300 ease-in-out hover:scale-105"
        type="button"
        onclick="openForm('barangayIndigency')"
        style="font-family: 'Montserrat', sans-serif; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);"
        onmouseover="this.style.boxShadow='0 6px 18px 2px rgba(139, 0, 0, 0.5)'"
        onmouseout="this.style.boxShadow='0 4px 6px rgba(0, 0, 0, 0.5)'"
        >
          BARANGAY INDIGENCY
        </button>

        <!-- Certificates Dropdown side -->
      <div class="dropdown-container">
        <button
          id="certificatesBtn"
          class="w-full text-center text-white text-4xl font-semibold rounded-lg py-12 px-8 bg-gradient-to-r from-[#7f1d1d] to-[#4b0000] transition-all duration-300 ease-in-out hover:scale-105 flex justify-center items-center shadow-lg hover:brightness-110 transition space-x-3"
          type="button"
          style="font-family: 'Montserrat', sans-serif; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);"
          onmouseover="this.style.boxShadow='0 6px 18px 2px rgba(139, 0, 0, 0.5)'"
          onmouseout="this.style.boxShadow='0 4px 6px rgba(0, 0, 0, 0.5)'"
          aria-expanded="false"
          aria-controls="certificatesDropdown"
          onclick="toggleBottomDropdown('certificatesDropdown', 'certificatesBtn')"
        >
        <span>CERTIFICATES</span>
        <i class="fas fa-caret-down text-3xl transition-transform" id="certificatesIcon"></i>
      </button>
      <ul
        id="certificatesDropdown"
        class="dropdown-menu"
        role="menu"
        aria-labelledby="certificatesBtn"
        >
          <li>
            <button
            class="w-full text-left px-6 py-3 hover:bg-[#f94e4e] hover:text-white transition text-gray-800 text-lg"
            type="button"
            onclick="openForm('barangayResidency')"
            >
              Barangay Residency
            </button>
          </li>
          <li>
            <button
              class="w-full text-left px-6 py-3 hover:bg-[#f94e4e] hover:text-white transition text-gray-800 text-lg"
              type="button"
              onclick="openForm('goodMoral')"
            >
              Good Moral Character
            </button>
          </li>
          <li>
            <button
              class="w-full text-left px-6 py-3 hover:bg-[#f94e4e] hover:text-white transition text-gray-800 text-lg"
              type="button"
              onclick="openForm('soloParent')"
            >
              Solo Parent
            </button>
          </li>
          <li>
            <button
              class="w-full text-left px-6 py-3 hover:bg-[#f94e4e] hover:text-white transition text-gray-800 text-lg"
              type="button"
              onclick="openForm('unemployment')"
            >
              Unemployment
            </button>
          </li>
          <li>
            <button
              class="w-full text-left px-6 py-3 hover:bg-[#f94e4e] hover:text-white transition text-gray-800 text-lg"
              type="button"
              onclick="openForm('lowIncome')"
            >
              Certificate of Low Income
            </button>
          </li>
          <li>
            <button
              class="w-full text-left px-6 py-3 hover:bg-[#f94e4e] hover:text-white transition text-gray-800 text-lg"
              type="button"
              onclick="openForm('firstTimeJobSeeker')"
            >
              First Time Job Seeker
            </button>
          </li>
        </ul>
      </div>

        <!-- Permit Dropdown side -->
      <div class="dropdown-container">
        <button
          id="permitBtn"
          class="w-full text-center text-white text-4xl font-semibold rounded-lg py-12 px-8 bg-gradient-to-r from-[#7f1d1d] to-[#4b0000] transition-all duration-300 ease-in-out hover:scale-105 flex justify-center items-center shadow-lg hover:brightness-110 transition space-x-3"
          type="button"
          style="font-family: 'Montserrat', sans-serif; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);"
          onmouseover="this.style.boxShadow='0 6px 18px 2px rgba(139, 0, 0, 0.5)'"
          onmouseout="this.style.boxShadow='0 4px 6px rgba(0, 0, 0, 0.5)'"
          aria-expanded="false"
          aria-controls="permitDropdown"
          onclick="toggleBottomDropdown('permitDropdown', 'permitBtn')"
        >
          <span>PERMIT</span>
          <i class="fas fa-caret-down text-4xl transition-transform" id="permitIcon"></i>
        </button>
        <ul
          id="permitDropdown"
          class="dropdown-menu"
          role="menu"
          aria-labelledby="permitBtn"
        >
        <li>
          <button
            class="w-full text-left px-6 py-3 hover:bg-[#f94e4e] hover:text-white transition text-gray-800 text-lg"
            type="button"
            onclick="openForm('businessPermit')"
          >
            Business Permit
          </button>
        </li>
        <li>
          <button
            class="w-full text-left px-6 py-3 hover:bg-[#f94e4e] hover:text-white transition text-gray-800 text-lg"
            type="button"
            onclick="openForm('buildingPermit')"
          >
            Building Permit
          </button>
        </li>
          <li>
            <button
              class="w-full text-left px-6 py-3 hover:bg-[#f94e4e] hover:text-white transition text-gray-800 text-lg"
              type="button"
              onclick="openForm('sanitaryPermit')"
              >
                Sanitary Permit
              </button>
          </li>
        </ul>
      </div>
    </main>
  </div>

 <!-- Form Modal -->
 <div
 id="formModal"
 class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50 overflow-auto"
>
 <div class="bg-white rounded-lg max-w-xl w-full shadow-lg overflow-hidden flex flex-col max-h-[90vh]">
   <!-- Barangay ID Forms -->
<form id="barangayIDStep1" class="p-6 space-y-4 hidden overflow-y-auto" novalidate>
  <h2 class="text-xl font-semibold mb-4">Barangay ID - Resident Information</h2>
  <div>
    <label class="block font-medium mb-1" for="idFullName">Full Name (Surname, Name, M.I)</label>
    <input
      id="idFullName"
      name="idFullName"
      type="text"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
      placeholder="Surname, Name, M.I"
    />
  </div>
  <div>
    <label class="block font-medium mb-1" for="idSex">Sex</label>
    <select
      id="idSex"
      name="idSex"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
    >
      <option value="" disabled selected>Select sex</option>
      <option>Male</option>
      <option>Female</option>
    </select>
  </div>
  <div>
    <label class="block font-medium mb-1" for="idDOB">Date of Birth</label>
    <input
      id="idDOB"
      name="idDOB"
      type="date"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
    />
  </div>
  <div>
    <label class="block font-medium mb-1" for="idNationality">Nationality</label>
    <input
      id="idNationality"
      name="idNationality"
      type="text"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
      placeholder="Enter nationality"
    />
  </div>
  <div>
    <label class="block font-medium mb-1" for="idDateResidency">Date of Residency</label>
    <input
      id="idDateResidency"
      name="idDateResidency"
      type="date"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
    />
  </div>
  <div>
    <label class="block font-medium mb-1" for="idContactNumber">Contact Number</label>
    <input
      id="idContactNumber"
      name="idContactNumber"
      type="text"
      inputmode="numeric"
      pattern="^\d{11,15}$"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
      placeholder="Enter contact number (11-15 digits)"
      oninput="this.value = this.value.replace(/[^0-9]/g, '')"
    />
    <p id="idContactNumberError" class="text-red-600 text-sm mt-1 hidden">Contact number must be 11 to 15 digits.</p>
  </div>
  <div>
    <label class="block font-medium mb-1" for="idAddress">Address</label>
    <input
      id="idAddress"
      name="idAddress"
      type="text"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
      placeholder="Enter address"
    />
  </div>
  <div class="flex justify-end space-x-3 pt-4">
    <button
      type="button"
      class="bg-gray-300 text-gray-700 rounded px-4 py-2"
      onclick="closeForm()"
    >
      Cancel
    </button>
    <button
      type="submit"
      class="bg-[#f94e4e] text-white rounded px-4 py-2 hover:bg-[#d43c3c]"
    >
      Next
    </button>
  </div>
</form>

<!-- Updated Barangay ID Step 2 Form -->
<form id="barangayIDStep2" class="p-6 space-y-4 hidden overflow-y-auto" novalidate>
  <h2 class="text-xl font-semibold mb-4">Barangay ID - Emergency Contact Information</h2>
  <div>
    <label class="block font-medium mb-1" for="idEmergencyName">Emergency Contact Name</label>
    <input
      id="idEmergencyName"
      name="idEmergencyName"
      type="text"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
      placeholder="Enter emergency contact name"
    />
  </div>
  <div>
    <label class="block font-medium mb-1" for="idEmergencyRelationship">Relationship</label>
    <input
      id="idEmergencyRelationship"
      name="idEmergencyRelationship"
      type="text"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
      placeholder="Enter relationship (e.g., Father, Mother)"
    />
  </div>
  <div>
    <label class="block font-medium mb-1" for="idEmergencyContact">Emergency Contact Number</label>
    <input
      id="idEmergencyContact"
      name="idEmergencyContact"
      type="text"
      inputmode="numeric"
      pattern="^\d{11,15}$"
      required
      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#f94e4e]"
      placeholder="Enter emergency contact number (11-15 digits)"
      oninput="this.value = this.value.replace(/[^0-9]/g, '')"
    />
    <p id="idEmergencyContactError" class="text-red-600 text-sm mt-1 hidden">Emergency contact number must be 11 to 15 digits.</p>
  </div>
  <div class="flex justify-between pt-4">
    <button
      type="button"
      class="bg-gray-300 text-gray-700 rounded px-4 py-2"
      onclick="barangayIDGoBackToStep1()"
    >
      Back
    </button>
    <button
      type="submit"
      class="bg-[#7f1d1d] text-white rounded px-4 py-2 hover:bg-[#d43c3c]"
    >
      Next
    </button>
  </div>
</form>
<!--Updated Barangay ID Step 2b Form-->
<form id="barangayIDStep2b" class="p-6 space-y-4 hidden overflow-y-auto" novalidate>
  <h2 class="text-xl font-semibold mb-4">Barangay ID - Declaration</h2>
  <div class="bg-gray-50 p-4 rounded border border-gray-200">
    <label class="flex items-start">
      <input
        type="checkbox"
        name="idDeclaration"
        required
        class="mt-1 form-checkbox h-5 w-5 text-[#f94e4e] focus:ring-[#f94e4e]"
      >
      <span class="ml-2">
        I hereby declare that the information I have provided is true and correct to the best of my knowledge. 
        I understand that any false information may lead to rejection of my request or legal consequences.
      </span>
    </label>
  </div>
  <div class="flex justify-between pt-4">
    <button
      type="button"
      class="bg-gray-300 text-gray-700 rounded px-4 py-2"
      onclick="barangayIDGoBackToStep2()"
    >
      Back
    </button>
    <button
      type="submit"
      class="bg-[#f94e4e] text-white rounded px-4 py-2 hover:bg-[#d43c3c]"
    >
      Next
    </button>
  </div>
</form>

<!-- Updated Barangay ID Step 3 Confirmation -->
<div id="barangayIDStep3" class="p-6 space-y-4 hidden overflow-y-auto">
  <h2 class="text-xl font-semibold mb-4">Barangay ID - Confirm Your Information</h2>
  <div>
    <p><strong>Full Name:</strong> <span id="idConfirmFullName"></span></p>
    <p><strong>Sex:</strong> <span id="idConfirmSex"></span></p>
    <p><strong>Date of Birth:</strong> <span id="idConfirmDOB"></span></p>
    <p><strong>Nationality:</strong> <span id="idConfirmNationality"></span></p>
    <p><strong>Date of Residency:</strong> <span id="idConfirmDateResidency"></span></p>
    <p><strong>Contact Number:</strong> <span id="idConfirmContactNumber"></span></p>
    <p><strong>Address:</strong> <span id="idConfirmAddress"></span></p>
    <p><strong>Emergency Contact Name:</strong> <span id="idConfirmEmergencyName"></span></p>
    <p><strong>Relationship:</strong> <span id="idConfirmEmergencyRelationship"></span></p>
    <p><strong>Emergency Contact Number:</strong> <span id="idConfirmEmergencyContact"></span></p>
  </div>
  <div class="flex justify-between pt-4">
    <button
      type="button"
      class="bg-gray-300 text-gray-700 rounded px-4 py-2"
      onclick="barangayIDEdit()"
    >
      Edit
    </button>
    <button
      type="button"
      class="bg-[#f94e4e] text-white rounded px-4 py-2 hover:bg-[#d43c3c]"
      onclick="barangayIDGoToSend()"
    >
      Confirm
    </button>
  </div>
</div>

   <div id="barangayIDStep4" class="p-6 space-y-4 hidden overflow-y-auto">
     <h2 class="text-xl font-semibold mb-4">Barangay ID - Send Request</h2>
     <div class="flex justify-between pt-4">
       <button
         type="button"
         class="bg-gray-300 text-gray-700 rounded px-4 py-2"
         onclick="barangayIDBackToConfirmation()"
       >
         Cancel
       </button>
       <button
         type="button"
         class="bg-[#f94e4e] text-white rounded px-4 py-2 hover:bg-[#d43c3c]"
         onclick="barangayIDSendRequest()"
       >
         Send
       </button>
     </div>
   </div>

   <div id="barangayIDStep5" class="p-6 space-y-4 hidden text-center overflow-y-auto">
     <h2 class="text-xl font-semibold mb-4 text-green-600">Request Sent!</h2>
     <p>Thank you for your request. The barangay admin will process it shortly.</p>
     <button
       type="button"
       class="mt-6 bg-[#800000] text-white rounded px-6 py-2 hover:bg-[#5a0000]"
       onclick="closeForm()"
     >
       Close
     </button>
   </div>

<script>
 const splashScreen = document.getElementById("splashScreen");
 const mainScreen = document.getElementById("mainScreen");
 const formModal = document.getElementById("formModal");

 // Buttons for dropdown toggles
 const certificatesBtn = document.getElementById("certificatesBtn");
 const permitBtn = document.getElementById("permitBtn");

 // Dropdown menus
 const certificatesDropdown = document.getElementById("certificatesDropdown");
 const permitDropdown = document.getElementById("permitDropdown");

 // Splash screen tap or hover to proceed
 splashScreen.addEventListener("click", () => {
   splashScreen.classList.add("hidden");
   mainScreen.classList.remove("hidden");
 });

 // Close form modal and reset all steps/forms
 function closeForm() {
   formModal.classList.add("hidden");
   resetAllForms();
   hideAllSteps();
 }

 // Reset all forms
function resetAllForms() {
  // Barangay ID forms
  const bIDStep1 = document.getElementById("barangayIDStep1");
  const bIDStep2 = document.getElementById("barangayIDStep2");
  const bIDStep2b = document.getElementById("barangayIDStep2b");
  if (bIDStep1) bIDStep1.reset();
  if (bIDStep2) bIDStep2.reset();
  if (bIDStep2b) bIDStep2b.reset();
}
   // Hide error messages
  document.getElementById("idContactNumberError").classList.add("hidden");
  document.getElementById("idEmergencyContactError").classList.add("hidden");

  // Hide all step containers/forms
function hideAllSteps() {
  // Barangay ID steps
  document.getElementById("barangayIDStep1").classList.add("hidden");
  document.getElementById("barangayIDStep2").classList.add("hidden");
  document.getElementById("barangayIDStep2b").classList.add("hidden");
  document.getElementById("barangayIDStep3").classList.add("hidden");
  document.getElementById("barangayIDStep4").classList.add("hidden");
  document.getElementById("barangayIDStep5").classList.add("hidden");
}

// Open form modal for a service
 function openForm(service) {
  formModal.classList.remove("hidden");
  resetAllForms();
  hideAllSteps();
  if (service === "barangayID") {
    document.getElementById("barangayIDStep1").classList.remove("hidden");
  }
 }

 // ---------------- Barangay ID Form Logic ----------------
const barangayIDStep1 = document.getElementById("barangayIDStep1");
const barangayIDStep2 = document.getElementById("barangayIDStep2");
const barangayIDStep2b = document.getElementById("barangayIDStep2b");
const barangayIDStep3 = document.getElementById("barangayIDStep3");
const barangayIDStep4 = document.getElementById("barangayIDStep4");
const barangayIDStep5 = document.getElementById("barangayIDStep5");

// Confirmation spans
const idConfirmFullName = document.getElementById("idConfirmFullName");
const idConfirmSex = document.getElementById("idConfirmSex");
const idConfirmDOB = document.getElementById("idConfirmDOB");
const idConfirmNationality = document.getElementById("idConfirmNationality");
const idConfirmDateResidency = document.getElementById("idConfirmDateResidency");
const idConfirmContactNumber = document.getElementById("idConfirmContactNumber");
const idConfirmAddress = document.getElementById("idConfirmAddress");
const idConfirmEmergencyName = document.getElementById("idConfirmEmergencyName");
const idConfirmEmergencyRelationship = document.getElementById("idConfirmEmergencyRelationship");
const idConfirmEmergencyContact = document.getElementById("idConfirmEmergencyContact");

barangayIDStep1.addEventListener("submit", (e) => {
  e.preventDefault();
  const contactInput = barangayIDStep1.idContactNumber;
  const contactError = document.getElementById("idContactNumberError");
  const contactVal = contactInput.value.trim();
  if (!/^\d{11,15}$/.test(contactVal)) {
    contactError.classList.remove("hidden");
    contactInput.focus();
    return;
  } else {
    contactError.classList.add("hidden");
  }
  if (!barangayIDStep1.checkValidity()) {
    barangayIDStep1.reportValidity();
    return;
  }
  barangayIDStep1.classList.add("hidden");
  barangayIDStep2.classList.remove("hidden");
});

barangayIDStep2.addEventListener("submit", (e) => {
  e.preventDefault();
const emergencyInput = barangayIDStep2.idEmergencyContact;
  const emergencyError = document.getElementById("idEmergencyContactError");
  const emergencyVal = emergencyInput.value.trim();
  if (!/^\d{11,15}$/.test(emergencyVal)) {
    emergencyError.classList.remove("hidden");
    emergencyInput.focus();
    return;
  } else {
    emergencyError.classList.add("hidden");
  }
  if (!barangayIDStep2.checkValidity()) {
    barangayIDStep2.reportValidity();
    return;
  }
  barangayIDStep2.classList.add("hidden");
  barangayIDStep2b.classList.remove("hidden");
});

barangayIDStep2b.addEventListener("submit", (e) => {
  e.preventDefault();
  if (!barangayIDStep2b.checkValidity()) {
    barangayIDStep2b.reportValidity();
    return;
  }
  // Fill confirmation fields
  idConfirmFullName.textContent = barangayIDStep1.idFullName.value.trim();
  idConfirmSex.textContent = barangayIDStep1.idSex.value;
  idConfirmDOB.textContent = barangayIDStep1.idDOB.value;
  idConfirmNationality.textContent = barangayIDStep1.idNationality.value.trim();
  idConfirmDateResidency.textContent = barangayIDStep1.idDateResidency.value;
  idConfirmContactNumber.textContent = barangayIDStep1.idContactNumber.value.trim();
  idConfirmAddress.textContent = barangayIDStep1.idAddress.value.trim();
  idConfirmEmergencyName.textContent = barangayIDStep2.idEmergencyName.value.trim();
  idConfirmEmergencyRelationship.textContent = barangayIDStep2.idEmergencyRelationship.value.trim();
  idConfirmEmergencyContact.textContent = barangayIDStep2.idEmergencyContact.value.trim();

  barangayIDStep2b.classList.add("hidden");
  barangayIDStep3.classList.remove("hidden");
});

function barangayIDGoBackToStep1() {
  barangayIDStep2.classList.add("hidden");
  barangayIDStep1.classList.remove("hidden");
}

function barangayIDGoBackToStep2() {
  barangayIDStep2b.classList.add("hidden");
  barangayIDStep2.classList.remove("hidden");
}

function barangayIDEdit() {
  barangayIDStep3.classList.add("hidden");
  barangayIDStep1.classList.remove("hidden");
}

function barangayIDGoToSend() {
  barangayIDStep3.classList.add("hidden");
  barangayIDStep4.classList.remove("hidden");
}

function barangayIDBackToConfirmation() {
  barangayIDStep4.classList.add("hidden");
  barangayIDStep3.classList.remove("hidden");
}

function barangayIDSendRequest() {
  // Create request object
  const request = {
    type: "Barangay ID",
    residentInfo: {
      fullName: barangayIDStep1.idFullName.value.trim(),
      sex: barangayIDStep1.idSex.value,
      dob: barangayIDStep1.idDOB.value,
      nationality: barangayIDStep1.idNationality.value.trim(),
      dateResidency: barangayIDStep1.idDateResidency.value,
      contactNumber: barangayIDStep1.idContactNumber.value.trim(),
      address: barangayIDStep1.idAddress.value.trim()
    },
    emergencyInfo: {
      name: barangayIDStep2.idEmergencyName.value.trim(),
      relationship: barangayIDStep2.idEmergencyRelationship.value.trim(),
      contactNumber: barangayIDStep2.idEmergencyContact.value.trim()
    },
    status: "Pending",
    dateSubmitted: new Date().toISOString(),
    id: 'REQ_' + Math.random().toString(36).substr(2, 9) // Generate a random ID
  };

  // Save to localStorage
  let requests = JSON.parse(localStorage.getItem('barangayRequests')) || [];
  requests.push(request);
  localStorage.setItem('barangayRequests', JSON.stringify(requests));

  // Show success message
  barangayIDStep4.classList.add("hidden");
  barangayIDStep5.classList.remove("hidden");
}

</script>
</body>
</html>